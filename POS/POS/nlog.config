<?xml version="1.0" ?>
<nlog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" throwExceptions="false"
  internalLogLevel="Error" internalLogFile="Logs\NlogInternal.log">

  <targets async="true">

    <target xsi:type="File"
            name="defaultFileLog"
            fileName="logs\active.log"
            keepFileOpen="false"
            archiveFileName="Logs\archive_${shortdate}.{##}.log"
            archiveNumbering="Sequence"
            archiveEvery="Day"
            maxArchiveFiles="365">
      <layout xsi:type="JsonLayout">
        <attribute name="time" layout="${longdate}" />
        <attribute name="level" layout="${level:upperCase=true}" />
        <attribute name="message" layout="${message}" />
        <attribute name="exception" layout=" ${onexception:${exception:format=ToString}${stacktrace}" />
      </layout>
    </target>
  </targets>

  <rules>

    <logger name="*" minlevel="Debug" writeTo="defaultFileLog" />
  </rules>
</nlog>